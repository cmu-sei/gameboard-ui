<div class="session-start-controls-component">
    <alert class="sync-start-message my-4" type="info" *ngIf="ctx.game.requireSynchronizedStart">
        <h3><strong>Are you ready?</strong></h3>

        <p class="sync-start-message">
            This game is synchronized, so you won't be able to start it until everyone registered
            to play has clicked "Ready" below. If you're all set to play, be sure to ready up so everyone can start
            playing!
        </p>
    </alert>

    <div class="d-flex align-items-center justify-content-center">
        <ng-container *ngIf="ctx.game.requireSynchronizedStart">
            <button btnCheckbox class="btn btn-lg mr-4" [class.btn-outline-success]="!ctx.player.isReady"
                [class.btn-danger]="ctx.player.isReady" [(ngModel)]="ctx.player.isReady"
                (click)="handleReadyUpdated(ctx.player)">
                <span>{{ ctx.player.isReady ? "Cancel - I'm not ready" : "I'm ready!" }}</span>
            </button>
        </ng-container>

        <app-confirm-button [disabled]="ctx.game.requireSynchronizedStart && !isGameSyncStartReady"
            btnClass=" btn btn-lg btn-primary" (confirm)="handleDoubleCheckRequest(true)"
            (cancel)="handleDoubleCheckRequest(false)">
            <fa-icon [icon]="faService.bolt"></fa-icon>
            <span>Start Session</span>
        </app-confirm-button>

        <ng-container *ngIf="ctx.user.isRegistrar && (!ctx.player.session || ctx.player.session.isBefore)">
            <div class="text-center my-4 ml-4">
                <app-confirm-button btnClass="btn btn-lg btn-warning" (confirm)="onRequestStart.emit(ctx.player)">
                    <fa-icon [icon]="faService.bolt"></fa-icon>
                    <span>Admin Start</span>
                </app-confirm-button>
            </div>
        </ng-container>
    </div>
</div>
