<!-- Copyright 2021 Carnegie Mellon University. All Rights Reserved. -->
<!-- Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information. -->

<ng-container *ngIf="hubState$ | async as hubState">
  <div class="team-leader d-flex align-items-center align-content-center">
    <app-player-avatar-list [avatarUris]="(leaderAvatar$ | async) || []"
      class="d-inline-block mr-4 my-2"></app-player-avatar-list>
    <div class="mr-2 pb-4 team-leader-name">
      <p class="team-header">{{ (hasTeammates$ | async) ? "Team" : "Player" }}</p>
      <p class="team-leader-name-text">
        <span>{{player.approvedName}}</span>
      </p>
    </div>
  </div>

  <ng-container *ngIf="hasTeammates$ | async">
    <hr class="team-leader-divider border border-secondary m-0 p-0" />
    <ul class="player-list px-0 pt-3 d-block" *ngIf="(actors$ | async) as actors">
      <li *ngFor="let teamMember of actors"
        class="d-flex justify-content-center align-items-center align-content-center">
        <div class="avatar-status-container mr-4">
          <app-player-avatar [avatarUri]="teamMember.sponsorLogo" [isOnline]="teamMember.isOnline" [size]="avatarSize"
            [maxAvatarsInListView]="actors.length" class="mr-4"></app-player-avatar>
        </div>
        <div class="player-name mr-auto align-middle fs-11 mb-4">
          <p class="m-0">{{teamMember.userApprovedName}}</p>
          <ul class="player-tags p-0">
            <li *ngIf="teamMember.isManager" class="badge badge-info mr-4">Manager</li>
            <li *ngIf="teamMember.nameStatus == 'pending'" class="badge badge-secondary">pending name: "{{
              teamMember.name
              }}"</li>
          </ul>
        </div>
        <div *ngIf="(isManager$ | async) && !teamMember.isManager" class="controls mb-3">
          <app-confirm-button btnClass="btn btn-info my-2" (confirm)="promoteToManager(teamMember.id)">
            <fa-icon [icon]="promoteIcon"></fa-icon>
            <span>Promote</span>
          </app-confirm-button>
        </div>
      </li>
    </ul>
  </ng-container>
</ng-container>
