<div class="sponsor-challenge-performance-component" *ngIf="context.summary; else loading">
    <div class="modal-header">
        <div class="modal-title pull-left d-flex align-items-center">
            <app-player-avatar [avatarUri]="context.summary.player.sponsor.logoFileName | relativeImage" size="large"
                class="d-block mr-4"></app-player-avatar>

            <div>
                <h2>{{ context.summary.player.name }}</h2>
                <h4>{{ (context.isPractice ? "Practice" : "Competitive")}} Mode</h4>
            </div>
        </div>
        <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="close()">
            <span aria-hidden="true" class="visually-hidden">&times;</span>
        </button>
    </div>
    <div class="modal-body container">
        <div class="d-flex justify-content-between align-items-center my-2"
            *ngFor="let challenge of context.summary.challenges">
            <app-challenge-or-game-field class="d-block" [challengeName]="challenge.challengeSpec.name"
                [game]="challenge.game" [disableLinks]="true" fontSize="large"></app-challenge-or-game-field>

            <div class="challenge-score-summary flex-shrink-0">
                <div [class]="'fs-13 font-weight-bold ' + (challenge.result | challengeResultColor) ">{{
                    challenge.result |
                    challengeResultPretty }}</div>
                <div class="subtle-size m-0 d-flex justify-content-between">
                    <div>
                        <span class="subtle-color">Score: </span>
                        {{ challenge.score }} / {{ challenge.maxPossibleScore }}
                    </div>

                    <div>
                        <span class="subtle-color">Percentile: </span>
                        {{ challenge.scorePercentile }}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-info" (click)="close()">OK</button>
    </div>
</div>

<ng-template #loading>
    <app-spinner>Loading player info...</app-spinner>
</ng-template>
