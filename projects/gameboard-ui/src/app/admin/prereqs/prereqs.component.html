<!-- Copyright 2021 Carnegie Mellon University. All Rights Reserved. -->
<!-- Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information. -->

<div class="container">
  <div *ngFor="let p of list$ | async" class="row align-items-baseline">
    <div class="col-3">{{p.targetTag}}</div>
    <div class="col-1">requires</div>
    <div class="col-2">{{p.requiredScore}}</div>
    <div class="col-1">on</div>
    <div class="col-3">{{p.requiredTag}}</div>
    <div class="col-2">
      <button class="btn btn-warning full-width" (click)="delete(p)">
        <fa-icon [icon]="faTrash"></fa-icon>
        <span>Delete</span>
      </button>
    </div>
  </div>
  <div class="row" *ngIf="list.length">
    <div class="col">
      <hr class="my-2" />
    </div>
  </div>
  <div class="row p-0 align-items-baseline">
    <div class="col-3 first-col">
      <input type="text" class="mr-2 form-control" [(ngModel)]="newgate.targetTag" (ngModelChange)="errors = []"
        placeholder="tag">
    </div>
    <div class="col-1">requires</div>
    <div class="col-2">
      <input type="number" class="mr-2 form-control" [(ngModel)]="newgate.requiredScore">
    </div>
    <div class="col-1">on</div>
    <div class="col-3">
      <input type="text" class="mr-2 form-control" [(ngModel)]="newgate.requiredTag" placeholder="tag"
        (ngModelChange)="errors = []">
    </div>
    <div class="col-2 last-col">
      <button class="btn btn-info full-width" (click)="save()"
        [disabled]="!newgate || !newgate.targetTag || !newgate.requiredTag">
        <fa-icon [icon]="faPlus"></fa-icon>
        <span>Add</span>
      </button>
    </div>
  </div>
</div>

<app-error-div [errors]="errors"></app-error-div>
