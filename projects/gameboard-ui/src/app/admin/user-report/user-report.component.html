<!-- Copyright 2021 Carnegie Mellon University. All Rights Reserved. -->
<!-- Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information. -->

<a class="btn btn-link" routerLink="../../">
  <fa-icon [icon]="faArrowLeft"></fa-icon>
  <span>Back</span>
</a>

<h4>Participation Report</h4>

<h5 class="pt-5">Users</h5>
<div class="container" pt-4 *ngIf="users; else loading">
  <div class="row border-top p-3">
    <div class="col-6 font-weight-bold">Category</div>
    <div class="col-6 font-weight-bold">Total</div>
  </div>
  <div class="row border-top p-3">
    <div class="col-6">Users Enrolled</div>
    <div class="col-6">{{users.enrolledUserCount}}</div>
  </div>
  <div class="row border-top p-3">
    <div class="col-6">Users Not Enrolled</div>
    <div class="col-6">{{users.unenrolledUserCount}}</div>
  </div>
  <div class="row border-top p-3">
    <div class="col-6">Total User Count</div>
    <div class="col-6">{{totalUserCount}}</div>
  </div>
</div>

<h5 class="pt-5">Players</h5>
<div class="container pt-4" *ngIf="players; else loading">
  <div class="row border-top p-3">
    <div class="col-6 font-weight-bold">Game</div>
    <div class="col-6 font-weight-bold">Player Count</div>
  </div>
  <div class="row border-top p-3" *ngFor="let p of players.stats">
    <div class="col-6">{{p.gameName}}</div>
    <div class="col-6">{{p.playerCount}}</div>  
  </div>
</div>

<h5 class="pt-5">Sponsors</h5>
<div class="container pt-4" *ngIf="sponsorStats; else loading">
  <div class="row border-top p-3">
    <div class="col-6 font-weight-bold">Name</div>
    <div class="col-6 fw-bold font-weight-bold">Player Count</div>
  </div>
  <div class="row border-top p-3" *ngFor="let s of sponsorStats">
    <div class="col-6"><img width="40" height="40" src="{{url}}/img/{{s.logo}}" /><span class="pl-3">{{s.name}}</span></div>
    <div class="col-6">{{s.count}}</div>
  </div>
</div>

<ng-template #loading>
  <div class="text-center">
    <app-spinner></app-spinner>
  </div>
</ng-template>
