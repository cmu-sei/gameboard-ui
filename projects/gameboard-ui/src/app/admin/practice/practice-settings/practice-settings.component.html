<ng-container *ngIf="ctx">
    <div class="greeting-container mt-4">
        <h2 class="mt-2">Practice Page Greeting</h2>
        <p>
            This text appears on the practice page to introduce players to playing in Practice Mode. Feel free to
            customize
            it to your specific needs.
        </p>

        <textarea class="form-control" [placeholder]="ctx.introTextPlaceholder"
            [(ngModel)]="ctx.settings.introTextMarkdown" (input)="handleSettingsChanged(ctx.settings)"
            rows="5"></textarea>
    </div>

    <div class="greeting-container">
        <h2 class="mt-4">Certificate Template</h2>
        <p>
            Players are able to save certificates in PDF format for each practice challenge they fully complete. Use
            this field
            to customize the appearance of these certificates.
        </p>

        <textarea class="form-control" (input)="handleSettingsChanged(ctx.settings)"
            [(ngModel)]="ctx.settings.certificateHtmlTemplate" rows="5"></textarea>
    </div>

    <div class="concurrent-sessions-container">
        <h2 class="mt-4">Concurrent Sessions</h2>
        <p>
            Here, you can constrain use of Practice Mode by limiting the number of active practice challenges a player
            is working on at once. You can also set a global maximum number of practice sessions across all players.
        </p>

        <div class="concurrent-session-controls-container d-flex">
            <div class="form-group pl-0">
                <label for="maxConcurrentUsers">Maximum Concurrent Users</label>
                <input type="number" class="form-control" name="maxConcurrentUsers"
                    placeholder="Leave blank for no maximum" min="1" (input)="handleSettingsChanged(ctx.settings)"
                    [(ngModel)]="ctx.settings.maxConcurrentPracticeSessions">
            </div>

            <div class="form-group">
                <label for="defaultSessionLength">Default Session Length (in Minutes)</label>
                <input type="number" class="form-control" name="defaultSessionLength" min="5" required
                    (change)="handleSettingsChanged(ctx.settings)"
                    [(ngModel)]="ctx.settings.defaultPracticeSessionLengthMinutes">
            </div>

            <div class="form-group">
                <label for="maxSessionLength">Maximum Session Length (in Minutes)</label>
                <input type="number" class="form-control" name="maxSessionLength"
                    placeholder="Leave blank for no maximum" min="5" (change)="handleSettingsChanged(ctx.settings)"
                    [(ngModel)]="ctx.settings.defaultPracticeSessionLengthMinutes">
            </div>
        </div>
    </div>
</ng-container>
