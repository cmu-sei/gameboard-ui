<!-- Copyright 2021 Carnegie Mellon University. All Rights Reserved. -->
<!-- Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information. -->

<!-- Live -->
<div class="row mt-4" *ngIf="present$ | async as present; else loading">

  <ng-container *ngIf="!!present.length">
    <div class="col-12 mx-0 px-0 mb-2">
      <h2>Live!</h2>
    </div>
    <app-game-card *ngFor="let g of present"
      [game]="g" (selected)="selected(g)"
      class="col-lg-3 col-md-4 col-6 mb-4">
    </app-game-card>
  </ng-container>

</div>

<!-- Upcoming -->
<div class="row mt-4" *ngIf="future$ | async as future; else loading">
  <div class="col-12 mx-0 px-0">
    <h2>Upcoming Games</h2>
  </div>
  <ng-container *ngFor="let group of future">
    <div class="col-12 mt-2 mb-0 pb-0 mx-0 pl-1">
      <h3 class="mb-0 pb-0">
        <span class="badge badge-dark group-badge text-white p-2">{{group.monthName}} {{group.year}}</span> 
        <span class="ml-3 align-self-center group-count">{{group.games.length}}</span>
        <div class="border-dark my-3 group-line"></div>
      </h3>
    </div>
    <app-game-card *ngFor="let g of group.games"
      [game]="g" (selected)="selected($event)"
      class="col-lg-3 col-md-4 col-6 mb-4">
    </app-game-card>
  </ng-container>
</div>

<!-- past -->
<div class="row mt-4" *ngIf="past$ | async as past; else loading">
  <div class="col-12 mx-0 px-0">
    <h2>Completed Games</h2>
  </div>
  <ng-container *ngFor="let group of past">
    <div class="col-12 mt-2 mb-0 pb-0 mx-0 pl-1">
      <h3 class="mb-0 pb-0">
        <span class="badge badge-dark group-badge text-white p-2">{{group.monthName}} {{group.year}}</span> 
        <span class="ml-3 align-self-center group-count">{{group.games.length}}</span>
        <div class="border-dark my-3 group-line"></div>
      </h3>
    </div>
    <app-game-card *ngFor="let g of group.games"
      [game]="g" (selected)="selected($event)"
      class="col-lg-3 col-md-4 col-6 mb-4">
    </app-game-card>
  </ng-container>
</div>

<ng-template #loading>
  <div class="text-center">
    <app-spinner></app-spinner>
  </div>
</ng-template>
